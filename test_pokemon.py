import os

from  pokemon import Pokemon
import time

pokemons=[]
pokemons_processed=[]
pokemon_data=[{"pokemon_id":"3","lat":"40.57747028","lng":"-73.97303952","despawn":"1520463317","disguise":"0","attack":"9","defence":"15","stamina":"10","move1":"215","move2":"90","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1124","level":"16","weather":"0"},{"pokemon_id":"3","lat":"40.71432286","lng":"-73.83487641","despawn":"1520462763","disguise":"0","attack":"14","defence":"4","stamina":"12","move1":"215","move2":"47","costume":"0","gender":"2","shiny":"0","form":"0","cp":"1762","level":"25","weather":"0"},{"pokemon_id":"3","lat":"40.79129628","lng":"-73.84976303","despawn":"1520462299","disguise":"0","attack":"9","defence":"0","stamina":"10","move1":"215","move2":"116","costume":"0","gender":"2","shiny":"0","form":"0","cp":"176","level":"3","weather":"0"},{"pokemon_id":"3","lat":"40.78218057","lng":"-73.82651368","despawn":"1520462102","disguise":"0","attack":"10","defence":"1","stamina":"5","move1":"215","move2":"90","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1210","level":"18","weather":"0"},{"pokemon_id":"3","lat":"40.5540584","lng":"-74.13863083","despawn":"1520461841","disguise":"0","attack":"12","defence":"10","stamina":"4","move1":"215","move2":"116","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1868","level":"27","weather":"0"},{"pokemon_id":"9","lat":"40.74039239","lng":"-73.99443497","despawn":"1520462283","disguise":"0","attack":"15","defence":"11","stamina":"15","move1":"202","move2":"36","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1882","level":"29","weather":"0"},{"pokemon_id":"9","lat":"40.58774901","lng":"-73.79296732","despawn":"1520462129","disguise":"0","attack":"7","defence":"6","stamina":"8","move1":"202","move2":"107","costume":"0","gender":"1","shiny":"0","form":"0","cp":"661","level":"11","weather":"0"},{"pokemon_id":"59","lat":"40.58938238","lng":"-73.89790709","despawn":"1520463704","disguise":"0","attack":"0","defence":"6","stamina":"7","move1":"240","move2":"103","costume":"0","gender":"1","shiny":"0","form":"0","cp":"871","level":"12","weather":"0"},{"pokemon_id":"103","lat":"40.63499436","lng":"-74.13431849","despawn":"1520462634","disguise":"0","attack":"8","defence":"13","stamina":"8","move1":"271","move2":"59","costume":"0","gender":"2","shiny":"0","form":"0","cp":"1899","level":"24","weather":"5"},{"pokemon_id":"103","lat":"40.55487363","lng":"-74.13450199","despawn":"1520462453","disguise":"0","attack":"0","defence":"15","stamina":"4","move1":"274","move2":"116","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1142","level":"15","weather":"0"},{"pokemon_id":"103","lat":"40.5918031","lng":"-73.92684295","despawn":"1520461949","disguise":"0","attack":"15","defence":"8","stamina":"8","move1":"271","move2":"59","costume":"0","gender":"1","shiny":"0","form":"0","cp":"2005","level":"25","weather":"0"},{"pokemon_id":"106","lat":"40.65395764","lng":"-74.09752191","despawn":"1520463772","disguise":"0","attack":"10","defence":"1","stamina":"3","move1":"241","move2":"56","costume":"0","gender":"1","shiny":"0","form":"0","cp":"987","level":"16","weather":"0"},{"pokemon_id":"107","lat":"40.59826583","lng":"-73.81989676","despawn":"1520462943","disguise":"0","attack":"13","defence":"3","stamina":"8","move1":"243","move2":"245","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1400","level":"25","weather":"0"},{"pokemon_id":"107","lat":"40.80869821","lng":"-73.8743878","despawn":"1520462176","disguise":"0","attack":"4","defence":"12","stamina":"11","move1":"243","move2":"115","costume":"0","gender":"1","shiny":"0","form":"0","cp":"203","level":"4","weather":"0"},{"pokemon_id":"113","lat":"40.81661704","lng":"-73.80059617","despawn":"1520462420","disguise":"0","attack":"13","defence":"2","stamina":"0","move1":"234","move2":"86","costume":"0","gender":"2","shiny":"0","form":"0","cp":"1010","level":"26","weather":"0"},{"pokemon_id":"131","lat":"40.58572346","lng":"-73.99957687","despawn":"1520463116","disguise":"0","attack":"13","defence":"12","stamina":"15","move1":"218","move2":"107","costume":"0","gender":"2","shiny":"0","form":"0","cp":"1167","level":"16","weather":"6"},{"pokemon_id":"131","lat":"40.64187824","lng":"-74.07109","despawn":"1520462002","disguise":"0","attack":"9","defence":"9","stamina":"7","move1":"218","move2":"40","costume":"0","gender":"1","shiny":"0","form":"0","cp":"2127","level":"31","weather":"6"},{"pokemon_id":"131","lat":"40.8052242","lng":"-73.88945517","despawn":"1520463304","disguise":"0","attack":"6","defence":"8","stamina":"11","move1":"230","move2":"284","costume":"0","gender":"1","shiny":"0","form":"0","cp":"397","level":"6","weather":"6"},{"pokemon_id":"134","lat":"40.60283637","lng":"-73.82210243","despawn":"1520463347","disguise":"0","attack":"3","defence":"10","stamina":"2","move1":"230","move2":"105","costume":"0","gender":"1","shiny":"0","form":"0","cp":"214","level":"3","weather":"0"},{"pokemon_id":"134","lat":"40.63438787","lng":"-74.17523584","despawn":"1520462918","disguise":"0","attack":"1","defence":"6","stamina":"6","move1":"230","move2":"58","costume":"0","gender":"1","shiny":"0","form":"0","cp":"811","level":"10","weather":"0"},{"pokemon_id":"137","lat":"40.60400628","lng":"-74.00187232","despawn":"1520465044","disguise":"0","attack":"9","defence":"5","stamina":"11","move1":"281","move2":"14","costume":"0","gender":"3","shiny":"0","form":"0","cp":"1112","level":"27","weather":"0"},{"pokemon_id":"137","lat":"40.6240571","lng":"-74.02161202","despawn":"1520464131","disguise":"0","attack":"8","defence":"2","stamina":"9","move1":"281","move2":"14","costume":"0","gender":"3","shiny":"0","form":"0","cp":"482","level":"12","weather":"0"},{"pokemon_id":"154","lat":"40.67362393","lng":"-73.79719539","despawn":"1520461813","disguise":"0","attack":"13","defence":"2","stamina":"7","move1":"215","move2":"31","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1430","level":"24","weather":"0"},{"pokemon_id":"232","lat":"40.81925769","lng":"-73.83294658","despawn":"1520462852","disguise":"0","attack":"9","defence":"0","stamina":"4","move1":"243","move2":"88","costume":"0","gender":"1","shiny":"0","form":"0","cp":"2211","level":"28","weather":"0"},{"pokemon_id":"232","lat":"40.59679554","lng":"-74.1180775","despawn":"1520461865","disguise":"0","attack":"10","defence":"4","stamina":"7","move1":"243","move2":"268","costume":"0","gender":"2","shiny":"0","form":"0","cp":"1533","level":"19","weather":"0"},{"pokemon_id":"297","lat":"40.90517956","lng":"-73.89193567","despawn":"1520464918","disguise":"0","attack":"3","defence":"8","stamina":"4","move1":"243","move2":"268","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1713","level":"24","weather":"0"},{"pokemon_id":"297","lat":"40.72365468","lng":"-73.82081579","despawn":"1520462575","disguise":"0","attack":"6","defence":"7","stamina":"4","move1":"229","move2":"268","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1298","level":"18","weather":"0"},{"pokemon_id":"297","lat":"40.78795484","lng":"-73.91324823","despawn":"1520464539","disguise":"0","attack":"7","defence":"0","stamina":"6","move1":"229","move2":"268","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1552","level":"22","weather":"0"},{"pokemon_id":"297","lat":"40.81009122","lng":"-73.91058428","despawn":"1520462703","disguise":"0","attack":"13","defence":"15","stamina":"15","move1":"229","move2":"246","costume":"0","gender":"1","shiny":"0","form":"0","cp":"2114","level":"27","weather":"0"},{"pokemon_id":"297","lat":"40.74545149","lng":"-73.71868573","despawn":"1520462229","disguise":"0","attack":"9","defence":"12","stamina":"3","move1":"243","move2":"245","costume":"0","gender":"2","shiny":"0","form":"0","cp":"194","level":"3","weather":"0"},{"pokemon_id":"297","lat":"40.84423042","lng":"-73.78368363","despawn":"1520462028","disguise":"0","attack":"7","defence":"15","stamina":"14","move1":"243","move2":"268","costume":"0","gender":"1","shiny":"0","form":"0","cp":"1217","level":"16","weather":"0"},{"pokemon_id":"297","lat":"40.58285287","lng":"-74.1655119","despawn":"1520461839","disguise":"0","attack":"9","defence":"3","stamina":"9","move1":"243","move2":"268","costume":"0","gender":"1","shiny":"0","form":"0","cp":"797","level":"11","weather":"0"}]
old_data=[]
now=int(time.time())


# data = [x for x in data if x not in old_data]
pokemons = [x for x in pokemon_data if x not in old_data] if pokemon_data else []
for raw_p in pokemons:
		t=int(raw_p.get('despawn')) > now
		print(t)
		p=Pokemon(raw_p)
		print(p)
		old_data.append(raw_p)
# x=[i for i in old_data if ]

print(f"---------{len(old_data)} {len(pokemon_data)} {len(pokemons)}")
try:
	while len(old_data)>0:
		now=int(time.time())
		old_data=[x for x in old_data if int(x.get('despawn')) > now]
		for x in old_data:
			print(int(x.get('despawn')) - now)

		print(f"{len(old_data)} {len(pokemon_data)} {len(pokemons)}")

		time.sleep(10)
except KeyboardInterrupt:
	print("bye")

# for i in [x for x in data if x not in pokemons_processed]:
	# print(i)

# pokemons = [x for x in pokemon_data] not in pokemons_processed
